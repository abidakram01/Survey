<div class="container">
  <div class="pt-5"></div>
  <div class="pt-5"></div>
  <!--<h3 class="page-title">Set New Password</h3>-->
  <div class="datacontentHolder mb-2">
    <div class="card mt-4 mb-5">
      <div class="card-body">
        <form [formGroup]="resetpasswordForm" (ngSubmit)="onResetPasswordSubmit()">
          <div class="row">
            <div class="col-md-12">
              <div class ="text-center">
                <h4>{{'reset_password.heading' | translate}}</h4>
              </div>
              <div *ngIf="hasServerError" class="form-group offset-md-2 col-md-8">    
                <ngb-alert (close)="hasServerError=false" [type]="'danger'">{{ 'error_message.change_password_fail' | translate }}</ngb-alert>
              </div>
              <div *ngIf="changeStatus" class="form-group offset-md-2 col-md-8">    
                <ngb-alert (close)="changeStatus=false" [type]="'success'">{{ 'error_message.change_password_success' | translate }}</ngb-alert>
              </div>
              <div class="form-group offset-md-2 col-md-8">
                <label for="password">{{'reset_password.new_password_label' | translate}}</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  formControlName="password"
                  [class.is-invalid]="password.invalid && (password.dirty || password.touched)"
                  [class.is-valid]="password.valid && (password.dirty || password.touched)"
                  aria-describedby="New password"
                  placeholder="{{'reset_password.new_password_label' | translate}}">
                <div *ngIf="password.invalid && (password.dirty || password.touched)"
                     class="invalid-feedback">
                  <div *ngIf="password.hasError('required')">
                    {{'error_message.required_field' | translate}}
                  </div>
                  <div *ngIf="password.hasError('minlength')">
                    {{'error_message.password_min_length' | translate}}
                  </div>
                </div>
              </div>
              <div class="form-group offset-md-2 col-md-8">
                <label for="confirm_password">{{'reset_password.confirm_new_password_label' | translate}}</label>
                <input
                  type="password"
                  class="form-control"
                  id="confirm_password"
                  name="confirm_password"
                  formControlName="confirm_password"
                  [class.is-invalid]="confirm_password.invalid && (confirm_password.dirty || confirm_password.touched)"
                  [class.is-valid]="confirm_password.valid && (confirm_password.dirty || confirm_password.touched)"
                  aria-describedby="Confirm Password"
                  placeholder="{{'reset_password.confirm_new_password_label' | translate}}">
                <div *ngIf="confirm_password.invalid && (confirm_password.dirty || confirm_password.touched)" class="invalid-feedback">
                  <div *ngIf="confirm_password.hasError('required')">
                    {{'error_message.required_field' | translate}}
                  </div>
                  <div *ngIf="confirm_password.hasError('minlength')">
                    {{'error_message.password_min_length' | translate}}
                  </div>
                  <div *ngIf="confirm_password.hasError('passwordMatch')">
                    {{'error_message.password_mismatch' | translate}}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col text-center ">
            <button type="submit" class="btn btn-primary">
                {{'reset_password.submit_label' | translate}}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
